# Amazon-Reviews-2023 — MapReduce Analytics

A reproducible analytics stack (Python 3 + **mrjob**) for crunching 2023 Amazon review dumps into tidy CSVs and polished figures.

```
amazon-mapreduce/
├── data/                  # Input data
├── jobs/                  # MapReduce scripts (*.py)
├── post_processing/       # pandas / matplotlib helpers
├── output/                # *.tsv / *.csv generated by jobs & helpers
├── figs/                  # PNG/SVG figures for report & slides
├── report/                # LaTeX source (amazon_mapreduce_report.tex)
├── env.yml                # conda environment spec
├── Makefile.example       # optional batch-run helper
└── README.md              # this file
```

---

## Quick Start

```bash
# Clone & enter
git clone https://github.com/yigagilbert/Amazon-Reviews-2023-MapReduce-Analytics.git
cd Amazon-Reviews-2023-MapReduce-Analytics

# Set up environment
conda env create -f env.yml && conda activate amazon-mr

# Download a sample category (~150 MB)
wget -P data/ https://datarepo.eng.ucsd.edu/mcauley_group/data/amazon_v2/raw/review_categories/Digital_Music.jsonl.gz
```

---

## Run All Analyses

To run all MapReduce jobs and post-processing steps on your data:

```bash
chmod +x run_all.sh
./run_all.sh
```

Output tables will appear in **`output/`** and figures in **`figs/`**.

---

## Batch Execution (Optional)

If you prefer, use the provided Makefile or batch script:

```bash
# Using Makefile (after copying Makefile.example to Makefile)
make all

# Or using the batch script
bash scripts/run_all_local.sh data/Digital_Music.jsonl.gz
```

---

## Job Catalogue

| Script                        | Purpose                              |
| ----------------------------- | ------------------------------------ |
| `count_reviews.py`            | reviews per **parent\_asin**         |
| `avg_rating.py`               | average ★ per product                |
| `top10_most_reviewed.py`      | 10 busiest products                  |
| `avg_helpfulness.py`          | global mean helpful‑vote ratio       |
| `sentiment_extract.py`        | review text → TSV for NLP            |
| `monthly_avg_rating.py`       | monthly ★ time‑series                |
| `rating_helpfulness_pairs.py` | rating ↔ helpfulness pairs           |
| `word_counts.py`              | token frequency (with polarity flag) |

---

## LaTeX Report

```bash
cd report && latexmk -pdf amazon_mapreduce_report.tex
```

Or use Overleaf (requires only TeX Live 2022).

---

## License

MIT—see `LICENSE`.

[mrjob]: https://github.com/Yelp/mrjob
